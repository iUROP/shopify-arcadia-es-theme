<div class="i-section i-section-full" data-aos="fade-up">
  <div class="i-section-primary-hero Bg-Colors-100">
    
    <div class="i-section-primary-hero__overlay">
      <div class="i-section-primary-hero__overlay--reviews">
        {% render 'review-star' star: 5 %}
        <span class="Family-Font---Body Text-Colors-Grey Typo-Body-XS">4.9/5 (255 reseñas)</span>
      </div>
      <div class="i-section-primary-hero__overlay--title">
        {{ section.settings.title }}
      </div>
      <p>{{ section.settings.sub_title }}</p>

      {% if section.settings.button_text and section.settings.button_link %}
        <a href="{{ section.settings.button_link }}" class="is-button-hover-secondary">
          {{ section.settings.button_text }}
        </a>
      {% endif %}

      <!-- Componente de reseñas -->
      <div class="i-section-primary-hero__overlay--reviews-card">
        <div class="reviews-carousel">
          {% for block in section.blocks %}
            {% if block.type == 'review' %}
              <div class="review-card {% if forloop.first %}active{% endif %}">
                <div class="review-stars">
                  {% for i in (1..5) %}
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                      <path d="M15.9583 6.04621C15.8535 5.70813 15.5662 5.46802 15.2262 5.43605L10.6082 4.99849L8.78207 0.538446C8.64742 0.211582 8.34077 0 8.00006 0C7.65936 0 7.35271 0.211582 7.21806 0.53921L5.39197 4.99849L0.77321 5.43605C0.433846 5.46878 0.147218 5.70813 0.0418691 6.04621C-0.0634801 6.38428 0.0338122 6.75509 0.290532 6.98884L3.78121 10.1833L2.75189 14.9147C2.67657 15.2626 2.80597 15.6222 3.08259 15.8308C3.23128 15.9429 3.40523 16 3.58065 16C3.7319 16 3.88193 15.9575 4.01657 15.8734L8.00006 13.389L11.9821 15.8734C12.2735 16.0563 12.6408 16.0396 12.9168 15.8308C13.1935 15.6215 13.3228 15.2618 13.2475 14.9147L12.2182 10.1833L15.7089 6.98947C15.9656 6.75509 16.0636 6.38492 15.9583 6.04621Z" fill="#FEC34D"/>
                    </svg>
                  {% endfor %}
                </div>
                <p class="review-text">{{ block.settings.review_text }}</p>
                <div class="review-footer">
                  <p class="review-author">{{ block.settings.author_name }}</p>
                  <div class="reviews-pagination">
                    <div class="pagination-dots">
                      {% for block in section.blocks %}
                        {% if block.type == 'review' %}
                          <span class="pagination-dot {% if forloop.first %}active{% endif %}"></span>
                        {% endif %}
                      {% endfor %}
                    </div>
                  </div>
                </div>
              </div>
            {% endif %}
          {% endfor %}
        </div>
      </div>

    </div>
    <img src="{{ section.settings.banner_image | image_url: width: 1600 }}" alt="Banner Arcadia" class="bg-image" />
  </div>
</div>

{% comment %} <video autoplay muted loop playsinline class="bg-image">
  <source src="{{ 'video_home.mp4' | asset_url }}" type="video/mp4" />
</video> {% endcomment %}

{% schema %}
{
  "name": "iUROP section - Hero",
  "class": "section-primary-banner",
  "settings": [
    {
      "type": "image_picker",
      "id": "banner_image",
      "label": "Imagen (escritorio)"
    },
    {
      "type": "image_picker",
      "id": "banner_image_mobile",
      "label": "Imagen (mobile)"
    },
    {
      "type": "richtext",
      "id": "title",
      "label": "Titulo"
    },
    {
      "type": "text",
      "id": "sub_title",
      "label": "Subtitulo"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Texto del botón",
      "default": "Comprar miel"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Enlace del botón"
    }
  ],
  "blocks": [
    {
      "type": "review",
      "name": "Reseña",
      "settings": [
        {
          "type": "textarea",
          "id": "review_text",
          "label": "Texto de la reseña"
        },
        {
          "type": "text",
          "id": "author_name",
          "label": "Nombre del autor"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "iUROP section - Hero",
      "category": "Custom"
    }
  ]
}
{% endschema %}
